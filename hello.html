<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heat Impact - Interactive Map</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
<!-- Blank Panel Section for Future Video -->
<section class="panel blank-panel" id="blank-panel-video" style="min-height:100vh; width:100vw; background:#000; display:flex; align-items:center; justify-content:center; position:relative; overflow:hidden;">
  <video id="blank-panel-video-content" class="panel-video" autoplay muted loop playsinline preload="metadata" 
         style="position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover;"
         onloadstart="this.style.opacity='0.3';" 
         oncanplay="this.style.opacity='1'; this.style.transition='opacity 0.5s';">
    <source src="https://d1o1w8utcm6ojz.cloudfront.net/IntroHCMDraft.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</section>


<!-- Video Section -->
<section class="video-section" style="padding: 3rem 2rem; background: #f8f9fa; text-align: center;">
  <div class="container" style="max-width: 1000px; margin: 0 auto;">
    <div class="section-header" style="margin-bottom: 2rem;">
      <h2 style="font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem; color: #333;">Educational Content</h2>
      <p style="font-size: 1.1rem; color: #666; max-width: 600px; margin: 0 auto;">Watch this informative video about heat impact and explore the interactive stakeholder map below.</p>
    </div>
    
    <div class="video-container" style="position: relative; max-width: 800px; margin: 0 auto;">
      <video controls preload="metadata" playsinline style="width: 100%; height: auto; border-radius: 12px; box-shadow: 0 8px 32px rgba(0,0,0,0.15);">
        <source src="https://d1o1w8utcm6ojz.cloudfront.net/Issue.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>
  </div>
</section>

<!-- Interactive Stakeholder Map Section -->
<section class="interactive-map-section" id="stakeholder-map">
  <div class="interactive-map">
    <img src="Media/ImpactofHeat1.png" alt="Stakeholder Scene" class="background-img" />
    <!-- Main Navigation Pins -->
    <button class="pin infrastructure-pin" style="top: 55%; left: 25%;" aria-label="Firefighter" title="Infrastructure Impact"></button>
    <button class="pin health-pin" style="top: 60%; left: 50%;" aria-label="Doctor" title="Public Health Impact"></button>
    <button class="pin process-pin" style="top: 65%; left: 75%;" aria-label="Police Officer" title="Process Impact"></button>
  </div>
  <!-- Modal for content -->
  <div id="modal" class="modal" style="display:none;">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div id="modal-body"></div>
    </div>
  </div>
</section>
<style>
  .interactive-map-section {
    width: 100vw;
    max-width: 1100px;
    margin: 2rem auto;
    padding: 0;
    position: relative;
  }
  .interactive-map {
    position: relative;
    width: 100%;
    max-width: 1100px;
    margin: 0 auto;
  }
  .background-img {
    width: 100%;
    display: block;
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.12);
  }
  .pin {
    position: absolute;
    width: 32px;
    height: 32px;
    background: url('https://cdn-icons-png.flaticon.com/512/684/684908.png') no-repeat center/contain, #ffd460;
    border: 2px solid #e94560;
    border-radius: 50%;
    cursor: pointer;
    transition: transform 0.2s;
    z-index: 2;
  }
  .infrastructure-pin {
    background: url('https://cdn-icons-png.flaticon.com/512/684/684908.png') no-repeat center/contain, #FF9800;
    border: 2px solid #F57C00;
  }
  .health-pin {
    background: url('https://cdn-icons-png.flaticon.com/512/684/684908.png') no-repeat center/contain, #2196F3;
    border: 2px solid #1976D2;
  }
  .process-pin {
    background: url('https://cdn-icons-png.flaticon.com/512/684/684908.png') no-repeat center/contain, #4CAF50;
    border: 2px solid #388E3C;
  }
  .infrastructure-pin:hover, .infrastructure-pin:focus {
    transform: scale(1.2);
    box-shadow: 0 0 8px #FF9800;
  }
  .health-pin:hover, .health-pin:focus {
    transform: scale(1.2);
    box-shadow: 0 0 8px #2196F3;
  }
  .process-pin:hover, .process-pin:focus {
    transform: scale(1.2);
    box-shadow: 0 0 8px #4CAF50;
  }
  .modal {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.6);
    display: flex; align-items: center; justify-content: center;
    z-index: 1000;
  }
  .modal-content {
    background: #fff;
    padding: 2rem;
    border-radius: 16px;
    max-width: 500px;
    width: 90%;
    position: relative;
  }
  .close {
    position: absolute;
    top: 1rem; right: 1rem;
    font-size: 2rem;
    cursor: pointer;
  }
  .mindmap-svg {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 3;
  }
  .mindmap-node {
    cursor: pointer;
    pointer-events: all;
    transition: filter 0.2s;
  }
  .mindmap-node:hover {
    filter: drop-shadow(0 0 8px #e94560);
  }
  .mindmap-label {
    font-size: 1rem;
    font-weight: 600;
    fill: #23234b;
    text-anchor: middle;
    pointer-events: none;
  }
  #close-mindmap {
    position: absolute;
    top: 12px;
    right: 24px;
    z-index: 10;
    font-size: 2rem;
    background: #ffd460;
    border: 2px solid #e94560;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    cursor: pointer;
    line-height: 36px;
    text-align: center;
    padding: 0;
  }
</style>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const pins = document.querySelectorAll('.pin');
    const modal = document.getElementById('modal');
    const modalBody = document.getElementById('modal-body');
    const closeBtn = document.querySelector('.close');
    
    pins.forEach(pin => {
      pin.addEventListener('click', function() {
        const label = pin.getAttribute('aria-label');
        const title = pin.getAttribute('title');
        
        let content = '';
        let linkText = '';
        let linkUrl = '';
        let buttonColor = '';
        
        switch(label) {
          case 'Firefighter':
            content = 'Explore how extreme heat impacts critical infrastructure systems, emergency services, and urban resilience.';
            linkText = 'Explore Infrastructure Impact';
            linkUrl = 'infrastructure.html';
            buttonColor = '#FF9800';
            break;
          case 'Doctor':
            content = 'Discover the public health implications of extreme heat on vulnerable populations and healthcare systems.';
            linkText = 'Explore Public Health Impact';
            linkUrl = 'public-health.html';
            buttonColor = '#2196F3';
            break;
          case 'Police Officer':
            content = 'Learn about how extreme heat affects operational processes, emergency response, and public safety systems.';
            linkText = 'Explore Process Impact';
            linkUrl = 'processes.html';
            buttonColor = '#4CAF50';
            break;
          default:
            content = `Information about ${label}.`;
            linkText = 'Learn More';
            linkUrl = '#';
            buttonColor = '#e94560';
        }
        
        modalBody.innerHTML = `
          <h2>${title}</h2>
          <p>${content}</p>
          <a href="${linkUrl}" class="btn" style="display: inline-block; margin-top: 1rem; padding: 0.75rem 1.5rem; background: ${buttonColor}; color: white; text-decoration: none; border-radius: 8px;">${linkText}</a>
        `;
        modal.style.display = 'flex';
      });
    });

    closeBtn.onclick = () => modal.style.display = 'none';
    window.onclick = (e) => { if (e.target == modal) modal.style.display = 'none'; };
  });
</script>

<!-- Navigation Footer -->
<footer style="background: #f8f9fa; padding: 2rem; margin-top: 3rem; border-radius: 8px; text-align: center;">
    <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem;">
        <a href="Main.html" style="display: inline-block; padding: 0.75rem 1.5rem; background: #e94560; color: white; text-decoration: none; border-radius: 8px; font-weight: 600; transition: background 0.3s;"><i class="fas fa-home"></i> Main Page</a>
        <a href="infrastructure.html" style="display: inline-block; padding: 0.75rem 1.5rem; background: #FF9800; color: white; text-decoration: none; border-radius: 8px; font-weight: 600; transition: background 0.3s;"><i class="fas fa-building"></i> Infrastructure</a>
        <a href="public-health.html" style="display: inline-block; padding: 0.75rem 1.5rem; background: #2196F3; color: white; text-decoration: none; border-radius: 8px; font-weight: 600; transition: background 0.3s;"><i class="fas fa-heartbeat"></i> Public Health</a>
        <a href="processes.html" style="display: inline-block; padding: 0.75rem 1.5rem; background: #4CAF50; color: white; text-decoration: none; border-radius: 8px; font-weight: 600; transition: background 0.3s;"><i class="fas fa-cogs"></i> Processes</a>
    </div>
</footer>

<!-- Copyright Footer -->
<footer style="background: #333; color: white; text-align: center; padding: 1rem; margin-top: 2rem;">
    <p>&copy; 2025 Impact of Heat Project. All rights reserved.</p>
</footer>
</body>
</html>
